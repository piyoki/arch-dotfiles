#!/bin/sh

theme="$HOME/.config/rofi/conf/launcher.rasi"
rofi_command="rofi -p "beats" -theme $theme -dmenu -i"
ARGS="--volume=50 -ao=pulse"

notification() {
    notify-send "Playing Now" "$@" --icon=media-tape
}

menu() {
    printf "1. Night City Lofi ğŸŒ• Lofi Hip Hop Radio ğŸ’¤ lofi beats to sleep / chill to\n"
    printf "2. Lofi Playlist for Programming / Relax / Chill\n"
    printf "3. 2-HOUR STUDY WITH MEğŸŒ¦ï¸ / calm piano / A Rainy Day in Shibuya, Tokyo / with countdown+alarm\n"
    printf "4. lofi hip hop radio ğŸ“š - beats to relax/study to\n"
    printf "5. 90's Lofi City ğŸŒƒ Rainy Lofi Hip Hop [ Chill Beats To Relax / Study To ]\n"
    printf "6. 4-HOUR STUDY WITH MEğŸŒ¦ï¸ / calm piano / A Rainy Day in Shinjuku, Tokyo / with countdown+alarm\n"
    printf "7. ğŸƒHarutya æ˜¥èŒ¶ğŸƒ Collection 2023 - Best Cover Of Harutya æ˜¥èŒ¶ - Harutya æ˜¥èŒ¶ Best Song Of All Time ğŸƒğŸŒ¿\n"
    printf "8. ã€æ´‹æ¥½playlistã€‘ å¯’ã„å†¬ã®æ—¥ã«è´ããŸã„å¿ƒæ¸©ã¾ã‚‹æ´‹æ¥½ãƒ¡ãƒ‰ãƒ¬ãƒ¼ ä½œæ¥­ç”¨_ãŠã—ã‚ƒã‚ŒãªéŸ³æ¥½ã§éƒ¨å±‹ã‚’å½©ã‚Šã¾ã—ã‚‡ã† ~ è´ã„ãŸã‚‰çµ¶å¯¾ã«ãƒãƒã£ã¦ã—ã¾ã†æ´‹æ¥½ | Cozy Winter ğŸµã€ä½œæ¥­ç”¨ BGMã€‘"
    printf "9. ã€ä½œæ¥­ç”¨BGMã€‘ä»Šæ—¥ã‚‚ç´ æ•µãªä¸€æ—¥ãŒã‚ãªãŸã‚’å¾…ã£ã¦ã„ã¾ã™ | Peaceful Day - æ´‹æ¥½playlist"
    printf "10. ã€æ´‹æ¥½playlistã€‘ å¸°ã‚Šé“ã«ã‚†ã£ãŸã‚Šè´ããŸã„å¿ƒåœ°ã„ã„æ´‹æ¥½ | musics make you feel happyğŸµã€ä½œæ¥­ç”¨ BGMã€‘"
}

main() {
    choice=$(menu | $rofi_command | cut -d. -f1)

    case $choice in
    1)
        notification "Night City Lofi ğŸŒ• Lofi Hip Hop Radio ğŸ’¤ lofi beats to sleep / chill to â˜•ï¸ğŸ¶"
        URL="https://www.youtube.com/watch?v=8ZeC-8klo_o"
        EXTRA_ARGS="--no-video"
        break
        ;;
    2)
        notification "Lofi Playlist for Programming / Relax / Chill â˜•ï¸ğŸ¶"
        URL="https://www.youtube.com/watch?v=v9XyIGXcRck"
        EXTRA_ARGS="--no-video"
        break
        ;;
    3)
        notification "2-HOUR STUDY WITH MEğŸŒ¦ï¸ / calm piano / A Rainy Day in Shibuya, Tokyo / with countdown+alarm â˜•ï¸ğŸ¶"
        URL="https://www.youtube.com/watch?v=5Q2Pc-e-8Qc"
        EXTRA_ARGS="--no-video"
        break
        ;;
    4)
        notification "lofi hip hop radio ğŸ“š - beats to relax/study to â˜•ï¸ğŸ¶"
        URL="https://www.youtube.com/watch?v=jfKfPfyJRdk"
        EXTRA_ARGS="--no-video"
        break
        ;;
    5)
        notification "90's Lofi City ğŸŒƒ Rainy Lofi Hip Hop [ Chill Beats To Relax / Study To ] â˜•ï¸ğŸ¶"
        URL="https://www.youtube.com/watch?v=q1pBwQl6zZ0"
        EXTRA_ARGS="--no-video"
        break
        ;;
    6)
        notification "4-HOUR STUDY WITH MEğŸŒ¦ï¸ / calm piano / A Rainy Day in Shinjuku, Tokyo / with countdown+alarm â˜•ï¸ğŸ¶"
        URL="https://www.youtube.com/watch?v=DXT9dF-WK-I"
        EXTRA_ARGS="--no-video"
        break
        ;;
    7)
        notification "ğŸƒHarutya æ˜¥èŒ¶ğŸƒ Collection 2023 - Best Cover Of Harutya æ˜¥èŒ¶ - Harutya æ˜¥èŒ¶ Best Song Of All Time ğŸƒğŸŒ¿â˜•ï¸ğŸ¶"
        URL="https://www.youtube.com/watch?v=mnwj6KxAvFc"
        EXTRA_ARGS="--no-video"
        break
        ;;
    8)
        notification "ã€æ´‹æ¥½playlistã€‘ å¯’ã„å†¬ã®æ—¥ã«è´ããŸã„å¿ƒæ¸©ã¾ã‚‹æ´‹æ¥½ãƒ¡ãƒ‰ãƒ¬ãƒ¼ ä½œæ¥­ç”¨_ãŠã—ã‚ƒã‚ŒãªéŸ³æ¥½ã§éƒ¨å±‹ã‚’å½©ã‚Šã¾ã—ã‚‡ã† ~ è´ã„ãŸã‚‰çµ¶å¯¾ã«ãƒãƒã£ã¦ã—ã¾ã†æ´‹æ¥½ | Cozy Winter ğŸµã€ä½œæ¥­ç”¨ BGMã€‘â˜•ï¸ğŸ¶"
        URL="https://www.youtube.com/watch?v=iFriGwRbnbo"
        EXTRA_ARGS="--no-video"
        break
        ;;
    9)
        notification "ã€ä½œæ¥­ç”¨BGMã€‘ä»Šæ—¥ã‚‚ç´ æ•µãªä¸€æ—¥ãŒã‚ãªãŸã‚’å¾…ã£ã¦ã„ã¾ã™ | Peaceful Day - æ´‹æ¥½playlist â˜•ï¸ğŸ¶"
        URL="https://www.youtube.com/watch?v=D3wwNaPx0OI"
        EXTRA_ARGS="--no-video"
        break
        ;;
    10)
        notification "ã€æ´‹æ¥½playlistã€‘ å¸°ã‚Šé“ã«ã‚†ã£ãŸã‚Šè´ããŸã„å¿ƒåœ°ã„ã„æ´‹æ¥½ | musics make you feel happyğŸµã€ä½œæ¥­ç”¨ BGMã€‘ â˜•ï¸ğŸ¶"
        URL="https://www.youtube.com/watch?v=rYkpy52Bb3o"
        EXTRA_ARGS="--no-video"
        break
        ;;
    esac

    # run mpv with args and selected url
    # added title arg to make sure the pkill command kills only this instance of mpv
    mpv $ARGS --title="radio-mpv" $URL $EXTRA_ARGS
}

pkill -f radio-mpv || main
